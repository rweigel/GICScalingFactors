function initMap() {
 // Create the map.
 var map = new google.maps.Map(document.getElementById('map'), {
zoom: 5,
center: {lat: 40.090, lng: -95.712},
mapTypeId: 'terrain'
});

//Create infowindow
var infowindow = new google.maps.InfoWindow();

function placeCircle(location, color, info) {
 var cityCircle = new google.maps.Circle({
  strokeColor: betaToColor(color),
  strokeOpacity: 0.8,
  strokeWeight: 2,
fillColor: betaToColor(color),
fillOpacity: 0.35,
map: map,
center: location,
radius: 10000
});

google.maps.event.addListener(cityCircle,'click',function() {
  infowindow.close();
  infowindow.setContent("<div id='infowindow'>"+info+"</div>");
  infowindow.open(map,cityCircle);
  infowindow.setPosition(location);
  });
}



// Construct the circle for each value in citymap.
// Note: We scale the area of the circle based on the population.
for (var station in stations) {
 // Add the circle for this city to the map.
 placeCircle(stations[station].center,stations[station].beta,stations[station].betaFactorAverage);
}

}

</script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBpXrhiM4lF24ZYUqdo74P7TspqJ3Ev90w&callback=initMap">
</script>
</body>
</html>
